---
import BlogItem from "../components/BlogItem.astro";
import BaseLayout from "../layouts/Base.astro";
export const frontmatter = {
  title: "Blog",
  lang: "en",
};

let allPosts = Object.values(
  import.meta.glob("./blog/[^_]*.md*", { eager: true })
) as Array<{
  frontmatter: { publishDate: string };
  compiledContent?: () => string;
  rawContent?: () => string;
  Content?: any;
}>;

allPosts = allPosts.sort(
  (a, b) =>
    new Date(b.frontmatter.publishDate).valueOf() -
    new Date(a.frontmatter.publishDate).valueOf()
);
---

<BaseLayout title={frontmatter.title} lang={frontmatter.lang}>
  <ul>
    {allPosts.map((post) => <BlogItem post={post} />)}
  </ul>
</BaseLayout>

<style>
  ul {
    padding-inline-start: 0;
    margin-block-end: 0;
  }
</style>
