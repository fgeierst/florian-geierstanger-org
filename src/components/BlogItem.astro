---
import { languages } from "../i18n/ui";

export interface Props {
  post: any;
}

const { post } = Astro.props;
const category = post.frontmatter.category || "post";
const date = new Date(post.frontmatter.publishDate);
const localDate = date.toLocaleDateString("de-DE", {
  year: "numeric",
  month: "short",
  day: "numeric",
});
const langLabel =
  languages[post.frontmatter.lang as keyof typeof languages] ||
  post.frontmatter.lang;
const url = category === "link" ? post.frontmatter.url : post.url;
---

<li class={`${category}`}>
  <a class="post-link" href={url}>{post.frontmatter.title}</a>

  {post.frontmatter.description && <p>{post.frontmatter.description}</p>}

  <div class="metadata">
    <a href={post.url} rel="bookmark">#</a>
    {localDate}, {langLabel}
  </div>
</li>

<style>
  li {
    list-style: none;
    margin-block-end: 0;
    border-block-end: 1px solid var(--color-border);
    padding-block: var(--space-100);
  }

  .post-link {
    text-decoration: none;

    &:hover {
      text-decoration: underline;
    }

    .link & {
      text-decoration: underline;
      font-weight:;
    }

    .post & {
      font-weight: 500;
      font-size: 1.2em;
    }
  }

  .metadata {
    font-size: 0.9em;
  }
</style>
