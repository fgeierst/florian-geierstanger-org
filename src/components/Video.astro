<script>
  // https://github.com/davatron5000/fit-vids
  class FitVids extends HTMLElement {
    connectedCallback() {
      const videoSources = ['iframe[src*="youtube"]', 'iframe[src*="vimeo"]'];
      this.style.display = "block";

      this.querySelectorAll(videoSources.join(",")).forEach(
        (video: HTMLElement) => {
          video.style.width = "100%";
          video.style.height = "auto";
          video.style.maxWidth = "100%";
          video.style.aspectRatio = `${video.getAttribute(
            "width"
          )} / ${video.getAttribute("height")}`;
          video.removeAttribute("height");
          video.removeAttribute("width");
        }
      );
    }
  }

  if ("customElements" in window) {
    window.customElements.define("fit-vids", FitVids);
  }
</script>
<fit-vids><slot /></fit-vids>
